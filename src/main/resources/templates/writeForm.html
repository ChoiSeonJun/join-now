<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>프로젝트 글쓰기 화면</title>
<!-- 합쳐지고 최소화된 최신 CSS -->
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

<!-- 부가적인 테마 -->
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
<!-- 합쳐지고 최소화된 최신 자바스크립트 -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

<script type="text/javascript">
	function go_list() {
		location.href = "main";
	}//end go_list
</script>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
<script>
$(document).ready(function() {

	//category change
	$("#category").on("change", function() {
	    var a = ['게임기획', '프로젝트 매니저', 'UX/UI기획'];
	    var b = ['UI/UX 디자인', '웹페이지 디자인', '디자이너'];
	    var c = ['프론트엔드', '백엔드', '풀스택'];
	    var o;
	    var category = $("#category").val();
	    if (category == "기획자") {
	        o = a;
	    } else if (category == "디자이너") {
	        o = b;
	    } else if (category == "개발자") {
	        o = c;
	    } else {
	        o = [];
	    }

	    $("#recruitType").empty();

	    for (var i = 0; i < o.length; i++) {
	        $("#recruitType").append("<option>" + o[i] + "</option>");
	    }
	});//end category change
	
	$(document).on("change", "#category", function() {
	    var a = ['게임기획', '프로젝트 매니저', 'UX/UI기획'];
	    var b = ['UI/UX 디자인', '웹페이지 디자인', '디자이너'];
	    var c = ['프론트엔드', '백엔드', '풀스택'];
	    var o;
	    var category = $(this).val();
	    
	    if (category == "기획자") {
	        o = a;
	    } else if (category == "디자이너") {
	        o = b;
	    } else if (category == "개발자") {
	        o = c;
	    } else {
	        o = [];
	    }
	    console.log(category);

	    $(this).next(".recruitType").empty();

	    for (var i = 0; i < o.length; i++) {
	        $(this).next(".recruitType").append("<option value='" + o[i] + "'>" + o[i] + "</option>");
	    }

	});

	//up
	$("#groupList").on("click", "#up-btn",function() {
		var memberSize = Number.parseInt($("#memberSize").val());
		$("#memberSize").val(memberSize + 1);
	});//end up

	//down ==> 최저값 1
	$("#groupList").on("click", "#down-btn", function() {
		var memberSize = Number.parseInt($("#memberSize").val());
		if (memberSize == 1){
			$("#memberSize").val(1);
		} else{
			$("#memberSize").val(memberSize - 1);
		}
	});//end down
	

	//add-btn
	$("#add-btn").click(function() {
	    /*var newSelectCategory = $("<select id='category' name='category' class='form-select form-select'></select>");
	    
	    // Add options to the new select element
	    var newSelectRecruitType = $("<select id='recruitType' name='recruitType' class='form-select form-select'></select>");
	    
	    newSelectCategory.append("<option value=''>옵션을 선택해주세요.</option>");
	    newSelectCategory.append("<option value='기획자'>기획자</option>");
	    newSelectCategory.append("<option value='디자이너'>디자이너</option>");
	    newSelectCategory.append("<option value='개발자'>개발자</option>");
	    
	    newSelectRecruitType.append("<option value=''>옵션을 선택해주세요.</option>");
	    
	    var newMsize = $("<div id='mSize'</div>");
		newMsize.append("<img src='images/down.png' class='down-btn' style='width:35px; height:35px;'>");
		newMsize.append("<input type='text' name='memberSize' value='1' id='memberSize1'>");
		newMsize.append("<img src='images/up.png' class='up-btn' style='width:40px; height:40px;'>");
		
	    $("#addSelect").prepend(newMsize).prepend(newSelectRecruitType).prepend(newSelectCategory);*/
	    
		var clonedGroup = $("#groupObject").clone();
        $("#groupList").append(clonedGroup);    
		
	});//end add-btn
					
					
	$("#del-btn").click(function() {
		// Remove the entire select box
		$("#groupObject").remove();
	}); //end del

});//end ready
</script>
<style>
      body{ background-color: #F7FFF5;}
      

</style>

</head>
<body>



	<div class="container">
		<form class="form" action="postAdd" method="post">
			<div class="form-group">
				<h2 class="text-center">프로젝트 모집요강</h2>
			</div>
			<hr>

			<div class="form-group">
				<h4>
					<label for="title">프로젝트명</label>
				</h4>
				<div>
					<input type="text" class="form-control" name="title"
						placeholder="3~20글자로 작성해주세요. ex)대리운전 알림 서비스">
				</div>
			</div>
			<br>
			<div class="form-group">
				<h4>
					<label for="studyType">유형</label>
				</h4>
				<br> <input type="radio" name="studyType" value="프로젝트">
				프로젝트 <input type="radio" name="studyType" value="스터디"> 스터디
			</div>
			<br>
			
			<!-- 지역 -->
			<div class="form-group">
				<h4>
					<label>지역</label>
				</h4>

				<div class="row">
					<div class="col-sm-6">
						<select class="form-control" name="onoff">
							<option value="무관">무관</option>
							<option value="온라인">온라인</option>
							<option value="오프라인">오프라인</option>
							<option value="온라인 /오프라인 모두 가능">온라인/오프라인 모두 가능</option>
						</select> <select class="form-control" name="region">
							<option value="">무관</option>
							<option value="서울특별시">서울특별시</option>
							<option value="경기도">경기도</option>
							<option value="강원도">강원도</option>
						</select>
					</div>
				</div>
			</div>
			<br>
			<!-- 지역 end -->
			
			<!-- 모집 인원 -->
			<div class="form-group">
				<h4>
					<label for="recruitType">모집인원</label>
				</h4>
				<div id="groupList">
					<div class="row" id="groupObject">
						<div class="col-sm-6">
						
							<select class="form-control" id="category" name="category">
								<option>옵션을 선택해주세요.</option>
								<option value="기획자">기획자</option>
								<option value="디자이너">디자이너</option>
								<option value="개발자">개발자</option>							
							</select> 
							
							<select class="form-control" id="recruitType" name="recruitType">
								<option>옵션을 선택해주세요.</option>
							</select>
							
							<!-- 버튼 -->
							<div>
								<div id="mSize">
									<img src="images/down.PNG" id="down-btn" style="width: 35px; height: 35px;"> 
									<input type="text" name="memberSize" value="1" id="memberSize"> 
									<img src="images/up.PNG" id="up-btn" style="width: 40px; height: 40px;">
								</div>
							</div>
							
						</div>
					</div>
				</div>
			</div>
						
			<p class="form-group" id="addSelect">
				<button type="button" class="btn rounded-pill me-2 btn-success" id="add-btn">추가</button>
				<button type="button" class="btn rounded-pill btn-outline-success" id="del-btn">삭제</button>
			</p>
			
			<!-- 모집 인원 end -->
			<br>
			
			<div class="form-group">
				<h4>
					<label for="content">프로젝트 설명</label>
				</h4>
				<textarea class="form-control" rows="3" name="content"></textarea>
			</div>
			<br>
			<div class="form-group">
				<h4>
					<label for="html5-date-input">프로젝트 시작일</label>
				</h4>

				<input class="form-control" type="date" name="startDate"
					id="html5-date-input" />
			</div>

			<div class="form-group">
				<h4>
					<label for="html5-date-input">공고 마감일</label>
				</h4>
				<input class="form-control" type="date" name="deadline"
					id="html5-date-input" />
			</div>
			<br>
			<div class="form-group">
				<h4>
					<label for="html5-tel-input">연락처</label>
				</h4>
				<br> <input class="form-control" type="text" name="contact"
					id="html5-tel-input" />
			</div>
			<br>
			<div class="form-group">
				<button type="reset" class="btn rounded-pill me-2">reset</button>
				<input type="submit" value="apply"
					class="btn rounded-pill me-2 btn-success" onclick="go_list()">
			</div>

		</form>
	</div>
</body>
</html>