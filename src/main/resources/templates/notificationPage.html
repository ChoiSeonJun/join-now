<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<style>
    .card {
        height: 400px;
    }
    
    a{
	    color: inherit; /* 기본 링크 색상 유지 */
	}
    
    a:hover {
    	text-decoration: none; /* 링크에 마우스를 올렸을 때 밑줄 효과 제거 */    
	}
	   
</style>

</head>

<body>
	
    <header class="bg-white d-flex justify-content-between align-items-center p-2">
        <div class="container d-flex justify-content-between align-items-center">
            <h1><a th:href="@{main}" style="color: #2CA40E; font-size: 24px;">JoiNow</a></h1>
            <nav>
                <ul class="list-inline m-0">
                    <th:block th:switch="${session.loginInfo}">
                    	<th:block th:case="null">
	                    	<li class="list-inline-item">
	                        	<a th:href="@{join}" class="btn btn-outline-dark btn-sm" style="font-size: 0.67em;">Sign Up</a>
		                    </li>
		                    <li class="list-inline-item">
		                        <a th:href="@{login}" class="btn btn-outline-dark btn-sm" style="font-size: 0.67em;">Log In</a>                        
		                    </li>
                    	</th:block>
                    	<th:block th:case="*">
	                    	<li class="list-inline-item">
	                        	<a th:href="@{mypage}" class="btn btn-outline-dark btn-sm" style="font-size: 0.67em;">MyPage</a>
		                    </li>
		                    <li class="list-inline-item">
		                        <a th:href="@{logout}" class="btn btn-outline-dark btn-sm" style="font-size: 0.67em;">Log Out</a>                        
		                    </li>
                    	</th:block>
	                        		
					</th:block>
                </ul>
            </nav>
        </div>
    </header>
		
	<!-- 배너 -->
    <section class="banner text-center py-5 mb-5" style="background-color: #2CA40E; color: #ffffff;">
    	    	
        <h2 style="font-size: 37px;">JoiNow</h2>
        <h3 style="font-size: 18px;">내 프로젝트신청 현황</h3>
        
    </section>
    <!-- 배너 end -->
    
	<!-- 알림 네비게이션 -->
	<section class="navigation py-2" style="margin-bottom: 10px;">
	    <div class="container d-flex justify-content-center"> 	
	    	<form action="notificationDeleteAll" method="post">    
	    		<input type="submit" value="Delete All" class="btn btn-outline-dark btn-sm" style="font-size: 0.67em;">    
	        </form>
	    </div>
	</section>
	<!-- 알림 네비게이션 end -->
	
	<!-- 리스트 -->
	<section class="features container">
		
		<div class="row justify-content-center">    
		    <th:block th:each="notificationP : ${notificationPrintList}">
		        <div class="col-md-12 mb-0.5">
			            <th:block th:with="n=notificationP.notification.notificationId" />
			            <th:block th:switch=${notificationP.notification.isRead}>    
				           <div th:case="true" class="list-item d-flex justify-content-center" style="color: #808080;"
			           		data-toggle="modal" th:data-target="'#myModal' + ${notificationP.notification.notificationId}">
						    
							    <p class="list-text d-inline-block mx-2" th:text="${notificationP.sender.nickname}">발신자</p>
							    <p class="list-text d-inline-block mx-2">에게서 알림이 왔습니다.</p>
							    <p class="list-text d-inline-block mx-1" th:text="${notificationP.notification.date}">날짜</p>							    
							</div>
							<div th:case="*" class="list-item d-flex justify-content-center" 
							data-toggle="modal" th:data-target="'#myModal' + ${notificationP.notification.notificationId}">
						    
							    <p class="list-text d-inline-block mx-2" th:text="${notificationP.sender.nickname}">발신자</p>
							    <p class="list-text d-inline-block mx-2">에게서 알림이 왔습니다.</p>
							    <p class="list-text d-inline-block mx-1" th:text="${notificationP.notification.date}">날짜</p>
							</div>
			            </th:block>
			            		            
		        </div>
		        
		        <!-- Modal -->
				<div class="container">
					<div class="modal fade" th:id="'myModal' + ${notificationP.notification.notificationId}" tabindex="-1" role="dialog"
						aria-labelledby="exampleModalScrollableTitle" aria-hidden="true">
						<div class="modal-dialog modal-dialog-scrollable" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal"
										aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
									
										
								</div>
								<form action="notificationCheck" method="post">
									<div class="modal-body">
										<div class="form-group">
				
											<h4>
												<div class="list-item d-flex justify-content-center">		            					            	
									                <p class="list-text d-inline-block mx-2">발신자 : </p>
									                <p class="list-text d-inline-block mx-2" th:text="${notificationP.sender.nickname}"></p>											                							                
									            </div>
											</h4>
											<a th:href="'retrieve?postNo='+${notificationP.notification.postId}">
												<div class="list-item d-flex justify-content-center">		            					            	
										                <p class="list-text d-inline-block" th:text="${notificationP.sender.nickname}">발신자</p>
										                <p class="list-text d-inline-block">님이 </p>
										                <p class="list-text d-inline-block mx-1" th:text="${notificationP.notification.content}">내용</p>													              
										        </div>
									        </a>
									        																								
										</div>
									</div>
																							
									<div class="modal-footer">
										<!-- 
										<button type="button" class="btn rounded-pill me-2 btn-success"
											data-dismiss="modal">Close</button> -->
										<input type="hidden" th:value="${notificationP.notification.notificationId}" name="notificationId">
										<input type="submit" value="확인" class="btn">
			
									</div>
								</form>
							</div>
						</div>
					</div>
									
				</div>
				<!-- Modal end -->
		     </th:block>
		</div>

	</section>
	<!-- 리스트 end -->
		
	
	                     			

	
	
	
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>

</html>


